<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="1.9.0">
  <bpmn:process id="sales_order_process" name="销售订单处理" isExecutable="true" camunda:versionTag="1.0">
    <bpmn:startEvent id="submit_order" name="提交销售订单" camunda:formKey="order_process_start">
      <bpmn:outgoing>SequenceFlow_16sjhve</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:parallelGateway id="parallel_order_start" name="订单处理开始">
      <bpmn:incoming>SequenceFlow_1dgzce7</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0vee4to</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1kwk7an</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:sequenceFlow id="SequenceFlow_16sjhve" sourceRef="submit_order" targetRef="product_process" />
    <bpmn:sequenceFlow id="SequenceFlow_0vee4to" sourceRef="parallel_order_start" targetRef="price_inquiry" />
    <bpmn:sequenceFlow id="SequenceFlow_1kwk7an" sourceRef="parallel_order_start" targetRef="factory_accounting" />
    <bpmn:sequenceFlow id="SequenceFlow_1dkj1eb" sourceRef="factory_accounting" targetRef="parallel_order_end" />
    <bpmn:sequenceFlow id="SequenceFlow_1f4fte6" sourceRef="price_inquiry" targetRef="parallel_order_end" />
    <bpmn:parallelGateway id="parallel_order_end" name="订单处理结束">
      <bpmn:incoming>SequenceFlow_1dkj1eb</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_1f4fte6</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_13v1hbi</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:sequenceFlow id="SequenceFlow_13v1hbi" sourceRef="parallel_order_end" targetRef="quotation_audit" />
    <bpmn:endEvent id="EndEvent_1nyr5jo" name="处理完成">
      <bpmn:incoming>SequenceFlow_0x4zwkj</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_0x4zwkj" sourceRef="quotation_audit" targetRef="EndEvent_1nyr5jo" />
    <bpmn:userTask id="factory_accounting" name="工厂核算" camunda:formKey="order_process_factory" camunda:candidateGroups="FACOTRY_ADMIN">
      <bpmn:incoming>SequenceFlow_1kwk7an</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1dkj1eb</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="price_inquiry" name="采购询价" camunda:formKey="order_process_purchase" camunda:candidateGroups="PURCHASE_ADMIN">
      <bpmn:incoming>SequenceFlow_0vee4to</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1f4fte6</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="quotation_audit" name="报价审核" camunda:formKey="order_process_quote_audit" camunda:candidateGroups="QUOTE_AUDITOR">
      <bpmn:incoming>SequenceFlow_13v1hbi</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0x4zwkj</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="product_process" name="产品分类" camunda:delegateExpression="${salesOrderProcessService}">
      <bpmn:incoming>SequenceFlow_16sjhve</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1dgzce7</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_1dgzce7" sourceRef="product_process" targetRef="parallel_order_start" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="sales_order_process">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="submit_order">
        <dc:Bounds x="78" y="102" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="64" y="138" width="66" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ParallelGateway_0hyfjc6_di" bpmnElement="parallel_order_start">
        <dc:Bounds x="349" y="95" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="342" y="149" width="66" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_16sjhve_di" bpmnElement="SequenceFlow_16sjhve">
        <di:waypoint xsi:type="dc:Point" x="114" y="120" />
        <di:waypoint xsi:type="dc:Point" x="177" y="120" />
        <di:waypoint xsi:type="dc:Point" x="177" y="120" />
        <di:waypoint xsi:type="dc:Point" x="202" y="120" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="147" y="114" width="90" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0vee4to_di" bpmnElement="SequenceFlow_0vee4to">
        <di:waypoint xsi:type="dc:Point" x="374" y="145" />
        <di:waypoint xsi:type="dc:Point" x="374" y="190" />
        <di:waypoint xsi:type="dc:Point" x="539" y="190" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="389" y="161.5" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1kwk7an_di" bpmnElement="SequenceFlow_1kwk7an">
        <di:waypoint xsi:type="dc:Point" x="374" y="95" />
        <di:waypoint xsi:type="dc:Point" x="374" y="62" />
        <di:waypoint xsi:type="dc:Point" x="539" y="62" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="389" y="72.5" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1dkj1eb_di" bpmnElement="SequenceFlow_1dkj1eb">
        <di:waypoint xsi:type="dc:Point" x="639" y="62" />
        <di:waypoint xsi:type="dc:Point" x="804" y="62" />
        <di:waypoint xsi:type="dc:Point" x="804" y="95" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="721.5" y="41" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1f4fte6_di" bpmnElement="SequenceFlow_1f4fte6">
        <di:waypoint xsi:type="dc:Point" x="639" y="190" />
        <di:waypoint xsi:type="dc:Point" x="804" y="190" />
        <di:waypoint xsi:type="dc:Point" x="804" y="145" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="721.5" y="169" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ParallelGateway_0jk5cty_di" bpmnElement="parallel_order_end">
        <dc:Bounds x="779" y="95" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="772" y="149" width="66" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_13v1hbi_di" bpmnElement="SequenceFlow_13v1hbi">
        <di:waypoint xsi:type="dc:Point" x="829" y="120" />
        <di:waypoint xsi:type="dc:Point" x="981" y="120" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="905" y="99" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_1nyr5jo_di" bpmnElement="EndEvent_1nyr5jo">
        <dc:Bounds x="1197" y="102" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1193" y="142" width="44" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0x4zwkj_di" bpmnElement="SequenceFlow_0x4zwkj">
        <di:waypoint xsi:type="dc:Point" x="1081" y="120" />
        <di:waypoint xsi:type="dc:Point" x="1197" y="120" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1139" y="99" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_0sjnn96_di" bpmnElement="factory_accounting">
        <dc:Bounds x="539" y="22" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_1hw2n3y_di" bpmnElement="price_inquiry">
        <dc:Bounds x="539" y="150" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="UserTask_0c2a4ex_di" bpmnElement="quotation_audit">
        <dc:Bounds x="981" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1med2zb_di" bpmnElement="product_process">
        <dc:Bounds x="202" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1dgzce7_di" bpmnElement="SequenceFlow_1dgzce7">
        <di:waypoint xsi:type="dc:Point" x="302" y="120" />
        <di:waypoint xsi:type="dc:Point" x="349" y="120" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="325.5" y="99" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
